---
name: automated-development
description: >
  é˜¶æ®µ2ï¼šè‡ªåŠ¨åŒ–å¼€å‘ä¸ä»£ç ç”Ÿæˆã€‚è¯»å– Page Schemaï¼Œè‡ªåŠ¨ç”Ÿæˆé¡µé¢éª¨æ¶ã€
  çŠ¶æ€ç®¡ç†ã€API ç»‘å®šå±‚ï¼Œå¹¶é€šè¿‡ Pre-commit Hook å®ç°è‡ªåŠ¨ä»£ç ä¿®æ­£ã€‚
---

# ğŸ”§ Skill 02 â€” è‡ªåŠ¨åŒ–å¼€å‘ & ä»£ç ç”Ÿæˆ

## ç›®æ ‡
æ¶ˆè´¹ Skill-01 äº§å‡ºçš„ Schemaï¼Œ**ä¸€é”®ç”Ÿæˆ 70% çš„æ ·æ¿ä»£ç **ï¼Œå¼€å‘è€…åªéœ€å¡«å†™æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ã€‚

---

## æ­¥éª¤ä¸€ï¼šè¿è¡Œä»£ç ç”Ÿæˆå™¨

```bash
node scripts/factory.js generate --schema schemas/pages/order-detail.schema.yaml
```

### ç”Ÿæˆæ–‡ä»¶æ¸…å•

```
src/views/OrderDetail/
â”œâ”€â”€ index.vue          # é¡µé¢ä¸»æ–‡ä»¶ï¼ˆå¸ƒå±€ + è·¯ç”±ï¼‰
â”œâ”€â”€ components/        # é¡µé¢ç§æœ‰ç»„ä»¶
â”‚   â””â”€â”€ StatusBadge.vue
â””â”€â”€ hooks/             # é¡µé¢çº§ Composable
    â””â”€â”€ useOrderDetail.ts

src/api/
â””â”€â”€ order.ts           # API Serviceï¼ˆç»‘å®šç«¯ç‚¹ + ç±»å‹ï¼‰

src/store/
â””â”€â”€ order.ts           # Pinia Storeï¼ˆçŠ¶æ€ + Actionsï¼‰
```

---

## æ­¥éª¤äºŒï¼šç”Ÿæˆæ–‡ä»¶è§„èŒƒ

### ğŸ“„ index.vueï¼ˆé¡µé¢éª¨æ¶ï¼‰

```vue
<template>
  <!-- [FACTORY-GENERATED] é¡µé¢å¸ƒå±€éª¨æ¶ -->
  <!-- âš ï¸ ä¿®æ”¹ LAYOUT SECTION ä¹‹å¤–çš„å†…å®¹ -->
  <div class="order-detail-page" data-page-id="OrderDetail">
    <van-nav-bar title="è®¢å•è¯¦æƒ…" left-arrow @click-left="$router.back()" />
    
    <!-- LAYOUT SECTION: å¼€å‘è€…åœ¨æ­¤å¡«å†™ä¸šåŠ¡ UI -->
    <div class="page-content">
      <van-loading v-if="loading" />
      <!-- TODO: æ¸²æŸ“ orderInfo æ•°æ® -->
    </div>
    <!-- /LAYOUT SECTION -->
  </div>
</template>

<script setup lang="ts">
import { useOrderDetail } from './hooks/useOrderDetail'
// [FACTORY-GENERATED] è‡ªåŠ¨æ³¨å…¥çš„ Composable
const { orderInfo, loading, updateStatus, cancelOrder } = useOrderDetail()
</script>
```

### ğŸ“„ useOrderDetail.tsï¼ˆä¸šåŠ¡ Hookï¼‰

```typescript
// [FACTORY-GENERATED] Auto-generated by FE-Factory
// ä¿®æ”¹ // BUSINESS LOGIC åŒºåŸŸå†…çš„ä»£ç 
import { ref, onMounted } from 'vue'
import { getOrderDetail, updateOrderStatus, cancelOrder as cancelOrderApi } from '@/api/order'
import { useOrderStore } from '@/store/order'
import { useRoute } from 'vue-router'

export function useOrderDetail() {
  const route = useRoute()
  const store = useOrderStore()
  const loading = ref(false)

  const fetchData = async () => {
    loading.value = true
    try {
      // BUSINESS LOGIC: å¯è‡ªå®šä¹‰è¯·æ±‚å‚æ•°
      const res = await getOrderDetail({ id: route.params.id as string })
      store.setOrderInfo(res.data)
    } catch (e) {
      console.error('[OrderDetail] fetchData error:', e)
    } finally {
      loading.value = false
    }
  }

  onMounted(fetchData)

  return {
    orderInfo: store.orderInfo,
    loading,
    // BUSINESS LOGIC: åœ¨æ­¤æ·»åŠ æ›´å¤šä¸šåŠ¡æ–¹æ³•
  }
}
```

### ğŸ“„ order.tsï¼ˆAPI Serviceï¼‰

```typescript
// [FACTORY-GENERATED] è‡ªåŠ¨ä» Swagger ç”Ÿæˆï¼Œç¦æ­¢æ‰‹åŠ¨ä¿®æ”¹
import request from '@/utils/request'
import type { OrderDetailResp, UpdateStatusReq } from './types/order.types'

/** è·å–è®¢å•è¯¦æƒ… */
export const getOrderDetail = (params: { id: string }) =>
  request.get<OrderDetailResp>('/api/order/detail', { params })

/** æ›´æ–°è®¢å•çŠ¶æ€ */
export const updateOrderStatus = (data: UpdateStatusReq) =>
  request.post('/api/order/status', data)

/** å–æ¶ˆè®¢å• */
export const cancelOrder = (data: { id: string; reason: string }) =>
  request.post('/api/order/cancel', data)
```

---

## æ­¥éª¤ä¸‰ï¼šè‡ªåŠ¨ä»£ç ä¿®æ­£æœºåˆ¶

### 3.1 Pre-commit Hookï¼ˆè‡ªåŠ¨è§¦å‘ï¼‰

`.husky/pre-commit` è‡ªåŠ¨æ‰§è¡Œï¼š
1. `eslint --fix` â€” ä¿®æ­£æ ¼å¼é—®é¢˜
2. `prettier --write` â€” ç»Ÿä¸€ä»£ç é£æ ¼
3. `node scripts/validator.js` â€” å·¥å‚è§„åˆ™æ ¡éªŒ

### 3.2 å·¥å‚è‡ªå®šä¹‰ ESLint è§„åˆ™ï¼ˆ`rules/fe-factory-rules.js`ï¼‰

| è§„åˆ™ | è¯´æ˜ | Auto-fix |
|------|------|---------|
| `no-inline-style` | ç¦æ­¢è¡Œå†… styleï¼Œå¿…é¡»ç”¨ class | âœ… |
| `require-data-track-id` | å¯äº¤äº’å…ƒç´ å¿…é¡»æœ‰ `data-track-id` | âŒéœ€æ‰‹å¡« |
| `no-direct-store-mutation` | ç¦æ­¢ç›´æ¥ä¿®æ”¹ storeï¼Œå¿…é¡»é€šè¿‡ action | âœ… |
| `require-loading-state` | å¼‚æ­¥å‡½æ•°å¿…é¡»æœ‰ loading çŠ¶æ€ | âŒéœ€æ‰‹å¡« |
| `no-magic-api-url` | ç¦æ­¢ç¡¬ç¼–ç  API è·¯å¾„ | âœ… |
| `require-error-boundary` | é¡µé¢å¿…é¡»æœ‰ error å¤„ç† | âŒéœ€æ‰‹å¡« |

### 3.3 æ™ºèƒ½ä»£ç å®¡æŸ¥ï¼ˆAI Code Reviewï¼‰

æäº¤ PR æ—¶è‡ªåŠ¨è§¦å‘ï¼Œæ£€æŸ¥ç‚¹ï¼š
- å˜é‡å‘½åæ˜¯å¦ç¬¦åˆè§„èŒƒï¼ˆcamelCase/PascalCaseï¼‰
- æ˜¯å¦é—æ¼ Error Boundary
- æ˜¯å¦é‡å¤å®šä¹‰å…¨å±€å˜é‡
- API è°ƒç”¨æ˜¯å¦å¸¦æœ‰ loading/error çŠ¶æ€å¤„ç†
- åŸ‹ç‚¹ track-id æ˜¯å¦ä¸ Schema ä¸­å®šä¹‰ä¸€è‡´

---

## æ­¥éª¤å››ï¼šå¼€å‘è€…å¡«å†™åŒº

ç”Ÿæˆä»£ç åï¼Œå¼€å‘è€…**åªéœ€å…³æ³¨**ï¼š

1. `// TODO:` æ ‡è®°çš„è§†å›¾æ¸²æŸ“é€»è¾‘
2. `// BUSINESS LOGIC` åŒºå—å†…çš„æ ¸å¿ƒä¸šåŠ¡å…¬å¼
3. ç»„ä»¶æ ·å¼å¾®è°ƒï¼ˆåœ¨ `<style scoped>` ä¸­ï¼‰

---

## âœ… é˜¶æ®µ2 å®Œæˆæ ‡å¿—

- [ ] ä»£ç ç”Ÿæˆå‘½ä»¤æ‰§è¡Œæ— æŠ¥é”™
- [ ] æ‰€æœ‰ `// TODO:` å·²å¡«å†™å®Œæ¯•
- [ ] `npm run lint` æ— é”™è¯¯
- [ ] `npm run build` æ— é”™è¯¯
- [ ] Pre-commit hook é€šè¿‡

---

## ğŸ“‚ äº§å‡ºç‰©

```
src/views/[PageId]/index.vue
src/views/[PageId]/hooks/use[PageId].ts
src/api/[module].ts
src/api/types/[module].types.ts
src/store/[module].ts
```
